# The Tale of the Labyrinth 

##  معرفی پروژه
 این پروژه یک بازی متنی به زبان **C** است که در آن بازیکن (Runner) باید در یک هزارتو حرکت کرده، از سایه‌نگرها (Shadows / Hunters) فرار کند و در نهایت به نقطه هدف (`*`) برسد.
این پروژه به‌صورت **مرحله‌ای (Phase-based)** طراحی شده و در هر فاز، قابلیت‌ها و هوشمندی بازی افزایش یافته است. در نسخه‌های نهایی، از **الگوریتم‌های هوش مصنوعی واقعی** مانند **A\*** و **Minimax** استفاده شده است.

---

## مکانیزم کلی بازی
- حرکت بازیکن در هزارتو با کلیدهای `W A S D`
- وجود دیوارهای افقی و عمودی که حرکت را محدود می‌کنند
- تعقیب هوشمند بازیکن توسط سایه‌نگرها
- امکان ایجاد دیوار موقت
- محاسبه و ذخیره امتیاز بازیکن
- ذخیره و بارگذاری کامل وضعیت بازی

---

## فازهای پروژه

###  Phase 1 – نمایش نقشه و حرکت پایه
- تعریف ساختار هزارتو
- نمایش گرافیکی نقشه در کنسول
- پیاده‌سازی حرکت بازیکن
- اعتبارسنجی ورودی‌های کاربر

---

###  Phase 2 – اعمال محدودیت‌های نقشه
- اضافه شدن سایه‌نگرها به بازی
- حرکت خودکار سایه‌نگرها
- بررسی برخورد بازیکن با سایه‌نگر
- پایان بازی در صورت برخورد

---

###  Phase 3 – منطق کامل بازی
- بهبود قوانین حرکت
- مدیریت هم‌زمان چند موجود (Runner و Shadow)
- بررسی دقیق شرایط برد (رسیدن به `*`)
- بررسی شرایط باخت (گرفتار شدن توسط Shadow)

---

###  Phase 4 – بازی پیشرفته و هوشمند
- اضافه شدن **دیوار موقت (Temporary Wall)** با کلید `T`
- دیوار موقت دارای طول عمر محدود (چند نوبت حرکت)
- بهبود هوش مصنوعی سایه‌نگرها با استفاده از **Manhattan Distance**
- انتخاب مسیر بهینه‌تر برای نزدیک شدن به بازیکن

---

###  Phase 5 – امتیازدهی، جوایز و جریمه‌ها
- تعریف سیستم امتیازدهی بر اساس:
  - تعداد حرکت‌ها
  - برخورد با سایه‌نگرها
  - استفاده از دیوار موقت
- اعمال **جوایز و جریمه‌های شانسی**
- ذخیره امتیاز بازیکنان
- ایجاد **سیستم رتبه‌بندی (Ranking System)**

---

###  Phase 6 – ذخیره و بازی مجدد
- ذخیره کامل وضعیت بازی در فایل
- بارگذاری مجدد بازی از فایل
- اطلاعات ذخیره‌شده شامل:
  - موقعیت Runner
  - موقعیت Shadowها
  - وضعیت دیوارها
  - امتیاز فعلی
- استفاده از توابع استاندارد فایل در C:
  - `fopen`
  - `fprintf / fscanf`
  - یا `fread / fwrite`

---

##  فاز مثبت (قابلیت‌های پیشرفته هوش مصنوعی)

###  استفاده از الگوریتم A* برای سایه‌نگرها
- جایگزینی حرکت Greedy با **A\***
- محاسبه کوتاه‌ترین مسیر واقعی با در نظر گرفتن دیوارها
- افزایش دقت و هوشمندی تعقیب Runner
- محاسبه تنها **یک قدم بعدی** برای افزایش کارایی

###  پیشنهاد حرکت بهینه با Minimax
- استفاده از **Minimax با عمق 2**
- پیشنهاد بهترین حرکت به Runner قبل از دریافت ورودی
- تابع امتیازدهی:
  ```score = distance(shadow, runner) - distance(runner, goal)```
  
- هدف:
  - دور شدن از نزدیک‌ترین Shadow
  - نزدیک‌تر شدن به نقطه هدف (`*`)

---

## ذخیره‌سازی (Save / Load)
- ذخیره بازی در فایل
- امکان ادامه بازی از آخرین وضعیت
- پیاده‌سازی با فایل‌های متنی یا باینری
- بدون تغییر در ساختار اصلی بازی


---


